{"version":3,"names":[],"mappings":"","sources":["common.js"],"sourcesContent":["$(document).ready(function () {\r\n    /*============ styler form ==============*/\r\n\r\n    /*======= End of styler form ============*/\r\n\r\n    /*============ Events ==============*/\r\n\r\n    /*======= End of Events ============*/\r\n    /*============ Animate ==============*/\r\n    new WOW().init();\r\n    /*======= End of Animate ============*/\r\n\r\n    /*============ MODAL ==============*/\r\n    $('.js-simple-modal').magnificPopup({\r\n        type: 'inline',\r\n        preloader: false,\r\n        modal: false,\r\n        closeOnBgClick: true,\r\n        showCloseBtn: false\r\n    });\r\n    $('.modal-close').on('click', function (e) {\r\n        e.stopPropagation();\r\n        $.magnificPopup.close();\r\n    });\r\n    /*======= End of MODAL ============*/\r\n\r\n    /*======== Preloader ========*/\r\n    function preloaderHid() {\r\n        document.querySelector('body').style.overflow = 'auto';\r\n        $('.preloader').css('display', 'none')\r\n    }\r\n    setTimeout(preloaderHid, 100);\r\n\r\n    /*============ Send Form ==============*/\r\n    // form validate\r\n    var pattern = {\r\n        name: /^[А-Яа-яЁёa-zA-Z\\s]{1,40}$/u,\r\n        email: /^[-\\w.]+@([A-z0-9][-A-z0-9]+\\.)+[A-z]{2,4}$/,\r\n        msg: /[\\s\\S\\D\\d]/iu,\r\n        phone: /^[- +0-9()]{1,40}$/\r\n    };\r\n    function validInput(elem, pName){\r\n        var valid = false;\r\n        if( pattern[pName].test(elem.val()) ){\r\n            elem.removeClass('error');\r\n            valid = true;\r\n        }\r\n        else{\r\n            elem.addClass('error');\r\n        }\r\n        return valid;\r\n    }\r\n\r\n    $('#vacancies-form').on('submit',function () {\r\n        if(validInput($(this).children('[name=\"name\"]'), 'name') * validInput($(this).children('[name=\"phone\"]'), 'phone')){\r\n            var form_data = $(this).serialize(); //собераем все данные из формы\r\n            $.ajax({\r\n                type: \"POST\", //Метод отправки\r\n                url: \"send-script/vacancies-form.php\", //путь до php фаила отправителя\r\n                data: form_data,\r\n                success: function() {\r\n                    //код в этом блоке выполняется при успешной отправке сообщения\r\n                    $.magnificPopup.close();\r\n                    $('#vacancies-form').trigger('reset');\r\n                }\r\n            });\r\n        }\r\n        return false;\r\n    });\r\n    $('#cooperation-form').on('submit',function () {\r\n        if(validInput($(this).children('[name=\"name\"]'), 'name') * validInput($(this).children('[name=\"phone\"]'), 'phone')){\r\n            var form_data = $(this).serialize(); //собераем все данные из формы\r\n            $.ajax({\r\n                type: \"POST\", //Метод отправки\r\n                url: \"send-script/cooperation-form.php\", //путь до php фаила отправителя\r\n                data: form_data,\r\n                success: function() {\r\n                    //код в этом блоке выполняется при успешной отправке сообщения\r\n                    $.magnificPopup.close();\r\n                    $('#cooperation-form').trigger('reset');\r\n                }\r\n            });\r\n        }\r\n        return false;\r\n    });\r\n    $('#order-form').on('submit',function () {\r\n        if(validInput($(this).children('[name=\"name\"]'), 'name') * validInput($(this).children('[name=\"phone\"]'), 'phone')){\r\n            var form_data =[];\r\n            //json\r\n            var chekedProblemArr = '';\r\n            $('[name=\"problem\"]').filter(':checked').each(function () {\r\n                chekedProblemArr += $(this).val() +'<br>';\r\n            });\r\n            form_data.push({\r\n                name: 'name',\r\n                value: $(this).children('[name=\"name\"]').val()\r\n            },{\r\n                name: 'phone',\r\n                value: $(this).children('[name=\"phone\"]').val()\r\n            },{\r\n                name: 'product',\r\n                value: $('[name=\"product\"]').filter(':checked').val()\r\n            },{\r\n                name: 'model',\r\n                value: $('[name=\"model\"]').filter(':checked').val()\r\n            },{\r\n                name: 'color',\r\n                value: $('[name=\"color\"]').filter(':checked').val()\r\n            },{\r\n                name: 'problem',\r\n                value: chekedProblemArr\r\n            },{\r\n                name: 'totalPrice',\r\n                value: $('.problem-form__price > span').html()\r\n            });\r\n\r\n            console.log(chekedProblemArr);\r\n            $.ajax({\r\n                type: \"POST\", //Метод отправки\r\n                url: \"send-script/problem-form.php\", //путь до php фаила отправителя\r\n                data: form_data,\r\n                success: function() {\r\n                    //код в этом блоке выполняется при успешной отправке сообщения\r\n                    $.magnificPopup.close();\r\n                    $('#order-form').trigger('reset');\r\n                }\r\n            });\r\n        }\r\n        return false;\r\n    })\r\n    /*======= End of Send Form ============*/\r\n});"],"file":"../common.js"}