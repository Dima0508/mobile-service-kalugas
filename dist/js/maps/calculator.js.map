{"version":3,"names":[],"mappings":"","sources":["calculator.js"],"sourcesContent":["$(document).ready(function () {\r\n/*============ output list ==============*/\r\n    var scrollTime = 1200;\r\n// output priceList\r\n    var prodBtn = $('[name=\"product\"]');\r\n    var modelBtn;\r\n    var colorBtn;\r\n    var prodName;\r\n    function OutputModel() {\r\n        $('.select-problem').removeClass('visible');\r\n        $('.select-color').removeClass('visible');\r\n        $('.problem-form__price-wrap').removeClass('visible');\r\n        prodName = prodBtn.filter(':checked').val();\r\n        var outputBox = $('.select-model__btn-group');\r\n        outputBox.empty();\r\n        var modelArr = priceList[prodName].model;\r\n        for (var name in modelArr){\r\n            var elem = '<label class=\"btn select-model__btn\">'+ modelArr[name].name +'\\n' +\r\n                            '<input type=\"radio\" name=\"model\" value=\"'+ modelArr[name].name +'\" data-model=\"'+ name +'\"> </label>';\r\n            outputBox.append(elem);\r\n        }\r\n        // img\r\n        $('.problem-form__center-img').attr('src', priceList[prodName].img);\r\n        $('.select-model__title > .js-out').html(prodName);\r\n        $('.select-color__title > .js-out').html(prodName);\r\n\r\n        checkedRadio('input[name=\"product\"]');\r\n        checkedRadio('input[name=\"model\"]');\r\n        $('input[name=\"product\"]').on('change', function () {\r\n            $('.select-model').addClass('visible');\r\n            $('html, body').stop(true).animate({\r\n                scrollTop: $(\".select-model\").offset().top -20\r\n            }, scrollTime);\r\n        });\r\n        $('input[name=\"model\"]').on('change', function () {\r\n            $('.select-color').addClass('visible');\r\n            $('html, body').stop(true).animate({\r\n                scrollTop: $(\".select-color\").offset().top -20\r\n            }, scrollTime);\r\n        });\r\n        $('.js-price-output').html('');\r\n        modelBtn = $('[name=\"model\"]');\r\n        modelBtn.on('change', OutputColor);\r\n        modelBtn.on('change', OutputProblem);\r\n    }\r\n    OutputModel();\r\n    prodBtn.on('change', OutputModel);\r\n\r\n//output color\r\n    var modelName;\r\n    function OutputColor() {\r\n        $('.select-problem').removeClass('visible');\r\n        $('.problem-form__price-wrap').removeClass('visible');\r\n        modelName = modelBtn.filter(':checked').data('model');\r\n        var outputBox = $('.select-color__btn-group');\r\n        outputBox.empty();\r\n        var arr = priceList[prodName].model[modelName].color;\r\n        for (var name in arr){\r\n             var elem = '<label class=\"btn select-color__btn\">\\n' +\r\n                            '<i class=\"select-color__btn_circle\" style=\"background-color: '+ arr[name].value +'\"></i>\\n' +\r\n                                '<input type=\"radio\" name=\"color\" value=\"'+ arr[name].name +'\">\\n'+\r\n                                    '<br>'+ arr[name].name +'</label>';\r\n\r\n             outputBox.append(elem);\r\n        }\r\n        checkedRadio('input[name=\"color\"]');\r\n        $('input[name=\"color\"]').on('change', function () {\r\n            $('.select-problem').addClass('visible');\r\n            $('html, body').stop(true).animate({\r\n                scrollTop: $(\".select-problem\").offset().top -20\r\n            }, scrollTime);\r\n        });\r\n        //colorBtn = $('[name=\"color\"]');\r\n        //colorBtn.on('change', OutputProblem);\r\n    }\r\n\r\n//output problem\r\n    function OutputProblem() {\r\n        //modelName = modelBtn.filter(':checked').val();\r\n        var outputBox = $('.checked-problem');\r\n        outputBox.empty();\r\n        var arr = priceList[prodName].model[modelName].price;\r\n        for (var name in arr){\r\n            if(arr[name][1] === 'Original'){\r\n                var elem = '<label class=\"btn checked-problem__item\">'+ arr[name][0] +'\\n' +\r\n                            '<span class=\"checked-problem__link\">Original</span>'+\r\n                                '<input type=\"checkbox\" name=\"problem\" value=\\''+ arr[name][0] +'\\' data-price=\"'+ arr[name][2] +'\"></label>';\r\n            }\r\n            else{\r\n                var elem = '<label class=\"btn checked-problem__item\">'+ arr[name][0] +'\\n' +\r\n                    '<input type=\"checkbox\" name=\"problem\" value=\\''+  arr[name][0] +'\\' data-price=\"'+ arr[name][1] +'\"></label>';\r\n            }\r\n\r\n            outputBox.append(elem);\r\n        }\r\n        checkedCheckbox('input[name=\"problem\"]');\r\n        $('input[name=\"problem\"]').on('change', function () {\r\n            $('.problem-form__price-wrap').addClass('visible');\r\n            /// problem checked\r\n            var priceTotal = 0;\r\n            var countProblem = 0;\r\n            $('input[name=\"problem\"]').filter(':checked').each(function () {\r\n                priceTotal += $(this).data('price');\r\n                countProblem ++;\r\n            });\r\n            //scroll\r\n            if(priceTotal === 0){\r\n                $('.problem-form__price').css('display', 'none')\r\n            }\r\n            else{\r\n                $('.problem-form__price').css('display', 'block')\r\n            }\r\n            if(countProblem !== 0 ){\r\n                $('html, body').stop(true).animate({\r\n                    scrollTop: $(\".problem-form__price-wrap\").offset().top -20\r\n                }, scrollTime);\r\n            }\r\n            else{\r\n                $('.problem-form__price-wrap').removeClass('visible');\r\n            }\r\n\r\n            $('.js-price-output').html(' от ' + priceTotal);\r\n        });\r\n    }\r\n    /*======= End of output list ============*/\r\n    function checkedRadio(elem) {\r\n        $(elem).filter(\":checked\").parent('label').addClass('checked');\r\n        $(elem).css('display', 'none');\r\n        $(elem).on('click', function (e) {\r\n            e.stopPropagation();\r\n            $(elem).parent('label').removeClass('checked');\r\n            $(this).parent('label').addClass('checked');\r\n        })\r\n    }\r\n    function checkedCheckbox(elem) {\r\n        $(elem).filter(\":checked\").parent('label').addClass('checked');\r\n        $(elem).css('display', 'none');\r\n        $(elem).on('click', function (e) {\r\n            e.stopPropagation();\r\n            $(this).parent('label').toggleClass('checked');\r\n        })\r\n    }\r\n});"],"file":"../calculator.js"}